(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{249:function(s,e,t){"use strict";t.r(e);var a=t(2),r=Object(a.a)({},function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"install"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install","aria-hidden":"true"}},[s._v("#")]),s._v(" Install")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" openssh-server\n")])])]),t("h1",{attrs:{id:"connect"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#connect","aria-hidden":"true"}},[s._v("#")]),s._v(" Connect")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -p PORT USER@SERVER_IP\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Execute one command and exit.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -p PORT USER@SERVER_IP "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n")])])]),t("p",[s._v("SSH in Virtual Machine needs a port forwarding rule in network settings for the VM. Name "),t("code",[s._v("ssh")]),s._v(", host port "),t("code",[s._v("3022")]),s._v(", guest port "),t("code",[s._v("22")]),s._v(".")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SSH to local VM via port forwarding.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -p 3022 user@127.0.0.1\n")])])]),t("h1",{attrs:{id:"alias"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#alias","aria-hidden":"true"}},[s._v("#")]),s._v(" Alias")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("/etc/ssh/ssh_config   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# system-wide")]),s._v("\n~/.ssh/config         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# per user (better)")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Add this in the config.")]),s._v("\nHost server_name\n  Port 22\n  User user\n  HostName 123.456.789.255\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Connect with this now.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" server_name\n")])])]),t("h1",{attrs:{id:"ssh-with-rsa-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh-with-rsa-key","aria-hidden":"true"}},[s._v("#")]),s._v(" SSH with RSA key")]),s._v(" "),t("p",[s._v("This is used to log in without writing the password each time. Also, it is much more secure.")]),s._v(" "),t("p",[s._v("This works by using a private "),t("code",[s._v("id_rsa")]),s._v(" and public "),t("code",[s._v("id_rsa.pub")]),s._v(" key pair. These keys can be generated by running "),t("code",[s._v("ssh-keygen")]),s._v(", and they are located in "),t("code",[s._v("~/.ssh")]),s._v(" i.e. "),t("code",[s._v("/home/user/.ssh")]),s._v(".")]),s._v(" "),t("p",[s._v("The "),t("code",[s._v("id_rsa")]),s._v(" private key stays in the host machine in "),t("code",[s._v("~/.ssh")]),s._v(". The "),t("code",[s._v("id_rsa.pub")]),s._v(" public key goes on the server in a "),t("code",[s._v("~/.ssh/authorized_keys")]),s._v(" file. Simple as that, the next ssh is password-less.")]),s._v(" "),t("p",[s._v("To transfer a public key, use this from "),t("code",[s._v("~")]),s._v(":")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" -av -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ssh -p 3022'")]),s._v(" ./.ssh/id_rsa.pub user@127.0.0.1:~/.ssh/\n")])])]),t("h1",{attrs:{id:"transfer-files-over-ssh-with-rsync"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#transfer-files-over-ssh-with-rsync","aria-hidden":"true"}},[s._v("#")]),s._v(" Transfer files over SSH with rsync")]),s._v(" "),t("p",[s._v("Only trasnfer the files that have changes or are missing. Much faster and secure than FTP.")]),s._v(" "),t("p",[t("code",[s._v("-a")]),s._v(" - Recursion and preserve everything."),t("br"),s._v(" "),t("code",[s._v("-v")]),s._v(" - Transfer log."),t("br"),s._v(" "),t("code",[s._v("-e")]),s._v(" - Specify remote shell.")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Transfer everything from the current directory to a new folder in the remote home directory.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" -av -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ssh'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v(".")]),s._v(" user@255.255.255.255:~/folder/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Transfer folder1 and its content to remote home directory")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" -av -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ssh'")]),s._v(" ./folder1 user@255.255.255.255:~/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Transfer everything from folder1 without the folder itself to remote folder2 in remote home directory.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" -av -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ssh'")]),s._v(" ./folder1/ user@255.255.255.255:~/folder2/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Transfer multiple files and folders.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" -av -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ssh'")]),s._v(" ./file1 ./file2 ./folder1 user@255.255.255.255:~/folder2/\n")])])]),t("h3",{attrs:{id:"to-virtual-machine"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#to-virtual-machine","aria-hidden":"true"}},[s._v("#")]),s._v(" To Virtual Machine")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" -av -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ssh -p PORT_NUMBER"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("SOURCE"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("DESTINATION"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("PATH"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" -av -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ssh -p 3022'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v(".")]),s._v(" user@127.0.0.1:~/make-this_folder\n")])])])])},[],!1,null,null,null);e.default=r.exports}}]);